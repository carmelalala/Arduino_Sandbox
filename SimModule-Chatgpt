
#include <SoftwareSerial.h>

// Define the software serial object
SoftwareSerial mySerial(D5, D6); // RX, TX

void setup() {
  // Initialize both the hardware serial and software serial communication
  Serial.begin(115200); // For debugging
  mySerial.begin(9600); // Baud rate for SIM900A module
  
  delay(1000); // Give some time for initialization
  
  // Test communication with SIM900A module
  sendCommand("AT"); // Check if SIM900A module is responding
  sendCommand("AT+CSQ"); // Signal quality test
  sendCommand("AT+CCID"); // Read SIM information
  sendCommand("AT+CREG?"); // Check registration in the network
  sendCommand("AT+CMGF=1"); // Set SMS text mode
}

void loop() {
  // Your main loop code can go here
}

void sendCommand(String command) {
  // Send AT command to SIM900A module
  mySerial.println(command);
  delay(500);
  
  // Print response from SIM900A module to Serial monitor
  while (mySerial.available()) {
    Serial.write(mySerial.read());
  }
}